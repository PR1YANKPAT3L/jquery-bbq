/*
* jQuery BBQ: Back Button & Query Library - v1.3.2 - 11/9/2017
* http://benalman.com/projects/jquery-bbq-plugin/
* 
* Copyright (c) 2010 "Cowboy" Ben Alman
* Dual licensed under the MIT and GPL licenses.
* http://benalman.com/about/license/
*/
(function(b,C){function q(a){return"string"===typeof a}function g(a){var c=x.call(arguments,1);return function(){return a.apply(this,c.concat(x.call(arguments)))}}function t(a,c,k,f,e){if(f!==d){c=k.match(a?A:/^([^#?]*)\??([^#]*)(#?.*)/);k=c[3]||"";if(2===e&&q(f))f=f.replace(a?B:F,"");else{var G=n(c[2]);f=q(f)?n[a?"fragment":"querystring"](f):f;f=2===e?f:1===e?b.extend({},f,G):b.extend({},G,f);f=r(f);a&&(f=f.replace(H,u))}a=c[1]+(a?D:f||!c[1]?"?":"")+f+k}else a=c(k!==d?k:location.href);return a}function y(a,
c,b){c===d||"boolean"===typeof c?(b=c,c=l[a?"fragment":"querystring"]()):c=q(c)?c.replace(a?B:F,""):c;return n(c,b)}function z(a,c,k,f){q(k)||"object"===typeof k||(f=k,k=c,c=d);return this.each(function(){var d=b(this),e=c||K()[(this.nodeName||"").toLowerCase()]||"",m=e&&d.attr(e)||"";d.attr(e,l[a](m,k,f))})}"$:nomunge";var d,x=Array.prototype.slice,u=decodeURIComponent,l=b.param,r,h,n,v,w=b.bbq=b.bbq||{},e,I,E=b.event.special,F=/^.*\?|#.*$/g,B,A,H,J,D,L={};l.querystring=g(t,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});l.fragment=h=g(t,1,function(a){return a.replace(A,"$2")});l.sorted=r=function(a,c){var k=[],f={};b.each(l(a,c).split("&"),function(a,c){var b=c.replace(/(?:%5B|=).*$/,""),e=f[b];e||(e=f[b]=[],k.push(b));e.push(c)});return b.map(k.sort(),function(a){return f[a]}).join("&")};h.noEscape=function(a){a=b.map((a||"").split(""),encodeURIComponent);H=new RegExp(a.join("|"),"g")};h.noEscape(",/");h.ajaxCrawlable=function(a){a!==d&&(a?(B=/^.*(?:#!|#)/,A=/^([^#]*)(?:#!|#)?(.*)$/,D="#!"):(B=/^.*#/,A=
/^([^#]*)#?(.*)$/,D="#"),J=!!a);return J};h.ajaxCrawlable(0);b.deparam=n=function(a,c){var k={},f={"true":!0,"false":!1,"null":null};b.each(a.replace(/\+/g," ").split("&"),function(a,e){var m=e.split("="),g=u(m[0]),n=k,l=0,p=g.split("]["),h=p.length-1;/\[/.test(p[0])&&/\]$/.test(p[h])?(p[h]=p[h].replace(/\]$/,""),p=p.shift().split("[").concat(p),h=p.length-1):h=0;if(2===m.length)if(m=u(m[1]),c&&(m=m&&!isNaN(m)?+m:"undefined"===m?d:f[m]!==d?f[m]:m),h)for(;l<=h;l++)g=""===p[l]?n.length:p[l],n=n[g]=
l<h?n[g]||(p[l+1]&&isNaN(p[l+1])?{}:[]):m;else b.isArray(k[g])?k[g].push(m):k[g]=k[g]!==d?[k[g],m]:m;else g&&(k[g]=c?d:"")});return k};n.querystring=g(y,0);n.fragment=v=g(y,1);b.elemUrlAttr||(b.elemUrlAttr=function(a){return b.extend(L,a)})({a:"href",base:"href",iframe:"src",img:"src",input:"src",form:"action",link:"href",script:"src"});var K=b.elemUrlAttr;b.fn.querystring=g(z,"querystring");b.fn.fragment=g(z,"fragment");w.pushState=e=function(a,c){q(a)&&/^#/.test(a)&&c===d&&(c=2);var b=a!==d;b=h(location.href,
b?a:{},b?c:2);location.href=b};w.getState=I=function(a,b){return a===d||"boolean"===typeof a?v(a):v(b)[a]};w.removeState=function(a){var c={};a!==d&&(c=I(),b.each(b.isArray(a)?a:arguments,function(a,b){delete c[b]}));e(c,2)};E.hashchange=b.extend(E.hashchange,{add:function(a){function c(a){var b=a.fragment=h();a.getState=function(a,c){return a===d||"boolean"===typeof a?n(b,a):n(b,c)[a]};e.apply(this,arguments)}if(b.isFunction(a)){var e=a;return c}e=a.handler;a.handler=c}})})(jQuery,this);
(function(b,C,q){function g(b){b=b||location.href;return"#"+b.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var t=document,y=b.event.special,z=t.documentMode,d="onhashchange"in C&&(z===q||7<z);b.fn.hashchange=function(b){return b?this.on("hashchange",b):this.trigger("hashchange")};b.fn.hashchange.delay=50;y.hashchange=b.extend(y.hashchange,{setup:function(){if(d)return!1;b(x.start)},teardown:function(){if(d)return!1;b(x.stop)}});var x=function(){function u(){var e=g(),d=w(h);e!==h?(v(h=e,d),b(C).trigger("hashchange")):
d!==h&&(location.href=location.href.replace(/#.*/,"")+d);r=setTimeout(u,b.fn.hashchange.delay)}var l={},r,h=g(),n=function(b){return b},v=n,w=n;l.start=function(){r||u()};l.stop=function(){r&&clearTimeout(r);r=q};document.all&&!d&&function(){var e,d;l.start=function(){e||(d=(d=b.fn.hashchange.src)&&d+g(),e=b('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){d||v(g());u()}).attr("src",d||"javascript:0").insertAfter("body")[0].contentWindow,t.onpropertychange=function(){try{"title"===
event.propertyName&&(e.document.title=t.title)}catch(E){}})};l.stop=n;w=function(){return g(e.location.href)};v=function(d,g){var h=e.document,l=b.fn.hashchange.domain;d!==g&&(h.title=t.title,h.open(),l&&h.write('<script>document.domain="'+l+'"\x3c/script>'),h.close(),e.location.hash=d)}}();return l}()})(jQuery,this);
